# USP
# ============================================================================================================
# cifar10   0.6% 4% ResNet32 buffer_size=5120
# ============================================================================================================
nohup python train_semi.py --flip_on_means --ckp_prefix cifar10_0.6%_resnet32_etf512_semi_consistancy_bs64_buffer_size5120 --gpu 0 --epochs 200 --epochs_new 200 --include_unlabel --update_proto --u_ratio 7 --use_conloss --kd_only_old --dim 512 --dataset cifar10 --num_classes 10 --nb_cl_fg 2 --nb_cl 2 --image_size 32 --unlabeled_num -1 --k_shot 30 --nb_protos 5 --base_lr 0.03 --new_lr 0.03 --train_batch_size 64 --test_batch_size 256 --model resnet32 --proto_dim 64 --warmup_epochs 10 --schedule cosine --unlabels_predict_mode cosine --p_cutoff 0.95 --u_iter 100 --buffer_size 5120 --use_ulb_aug --kd_mode logits --use_hard_labels --use_ulb_kd --ulb_kd_mode similarity --random_seed 0 2>&1 > cifar10_0.6%_resnet32_etf512_semi_consistancy_bs64_buffer_size5120.log &

nohup python train_semi.py --flip_on_means --ckp_prefix cifar10_4%_resnet32_etf512_semi_consistancy_bs64_buffer_size5120 --gpu 0 --epochs 200 --epochs_new 200 --include_unlabel --update_proto --u_ratio 7 --use_conloss --kd_only_old --dim 512 --dataset cifar10 --num_classes 10 --nb_cl_fg 2 --nb_cl 2 --image_size 32 --unlabeled_num -1 --k_shot 150 --nb_protos 5 --base_lr 0.03 --new_lr 0.03 --train_batch_size 64 --test_batch_size 256 --model resnet32 --proto_dim 64 --warmup_epochs 10 --schedule cosine --unlabels_predict_mode cosine --p_cutoff 0.95 --u_iter 100 --buffer_size 5120 --use_ulb_aug --kd_mode logits --use_hard_labels --use_ulb_kd --ulb_kd_mode similarity --random_seed 0 2>&1 > cifar10_4%_resnet32_etf512_semi_consistancy_bs64_buffer_size5120.log &

# ============================================================================================================
# cifar100   4% 5% 16% 25% ResNet20 buffer_size=5120
# ============================================================================================================
nohup python train_semi.py --flip_on_means --ckp_prefix cifar100_4%_resnet32_etf512_semi_consistancy_bs64_buffer_size5120 --gpu 0 --epochs 200 --epochs_new 200 --include_unlabel --update_proto --u_ratio 7 --use_conloss --kd_only_old --dim 512 --dataset cifar100 --num_classes 100 --nb_cl_fg 10 --nb_cl 10 --image_size 32 --unlabeled_num -1 --k_shot 20 --nb_protos 5 --base_lr 0.03 --new_lr 0.03 --train_batch_size 64 --test_batch_size 256 --model resnet32 --proto_dim 64 --warmup_epochs 10 --schedule cosine --unlabels_predict_mode cosine --p_cutoff 0.95 --u_iter 100 --buffer_size 5120 --use_ulb_aug --kd_mode logits --use_hard_labels --use_ulb_kd --ulb_kd_mode similarity --random_seed 0 2>&1 > cifar100_4%_resnet32_etf512_semi_consistancy_bs64_buffer_size5120.log &

nohup python train_semi.py --flip_on_means --ckp_prefix cifar100_5%_resnet32_etf512_semi_consistancy_bs64_buffer_size5120 --gpu 0 --epochs 200 --epochs_new 200 --include_unlabel --update_proto --u_ratio 7 --use_conloss --kd_only_old --dim 512 --dataset cifar100 --num_classes 100 --nb_cl_fg 10 --nb_cl 10 --image_size 32 --unlabeled_num -1 --k_shot 25 --nb_protos 5 --base_lr 0.03 --new_lr 0.03 --train_batch_size 64 --test_batch_size 256 --model resnet32 --proto_dim 64 --warmup_epochs 10 --schedule cosine --unlabels_predict_mode cosine --p_cutoff 0.95 --u_iter 100 --buffer_size 5120 --use_ulb_aug --kd_mode logits --use_hard_labels --use_ulb_kd --ulb_kd_mode similarity --random_seed 0 2>&1 > cifar100_5%_resnet32_etf512_semi_consistancy_bs64_buffer_size5120.log &

nohup python train_semi.py --flip_on_means --ckp_prefix cifar100_16%_resnet32_etf512_semi_consistancy_bs64_buffer_size5120 --gpu 0 --epochs 200 --epochs_new 200 --include_unlabel --update_proto --u_ratio 7 --use_conloss --kd_only_old --dim 512 --dataset cifar100 --num_classes 100 --nb_cl_fg 10 --nb_cl 10 --image_size 32 --unlabeled_num -1 --k_shot 80 --nb_protos 5 --base_lr 0.03 --new_lr 0.03 --train_batch_size 64 --test_batch_size 256 --model resnet32 --proto_dim 64 --warmup_epochs 10 --schedule cosine --unlabels_predict_mode cosine --p_cutoff 0.95 --u_iter 100 --buffer_size 5120 --use_ulb_aug --kd_mode logits --use_hard_labels --use_ulb_kd --ulb_kd_mode similarity --random_seed 0 2>&1 > cifar100_16%_resnet32_etf512_semi_consistancy_bs64_buffer_size5120.log &

nohup python train_semi.py --flip_on_means --ckp_prefix cifar100_25%_resnet32_etf512_semi_consistancy_bs64_buffer_size5120 --gpu 0 --epochs 200 --epochs_new 200 --include_unlabel --update_proto --u_ratio 7 --use_conloss --kd_only_old --dim 512 --dataset cifar100 --num_classes 100 --nb_cl_fg 10 --nb_cl 10 --image_size 32 --unlabeled_num -1 --k_shot 125 --nb_protos 5 --base_lr 0.03 --new_lr 0.03 --train_batch_size 64 --test_batch_size 256 --model resnet32 --proto_dim 64 --warmup_epochs 10 --schedule cosine --unlabels_predict_mode cosine --p_cutoff 0.95 --u_iter 100 --buffer_size 5120 --use_ulb_aug --kd_mode logits --use_hard_labels --use_ulb_kd --ulb_kd_mode similarity --random_seed 0 2>&1 > cifar100_25%_resnet32_etf512_semi_consistancy_bs64_buffer_size5120.log &


# ============================================================================================================
# cifar10   0.6% 4% ResNet20 buffer_size=5120
# ============================================================================================================
nohup python train_semi_der.py --flip_on_means --ckp_prefix cifar10_0.6%_resnet32_etf512_semi_consistancy_bs64_buffer_size5120_der --gpu 0 --epochs 200 --epochs_new 200 --include_unlabel --update_proto --u_ratio 7 --use_conloss --kd_only_old --dim 512 --dataset cifar10 --num_classes 10 --nb_cl_fg 2 --nb_cl 2 --image_size 32 --unlabeled_num -1 --k_shot 30 --nb_protos 5 --base_lr 0.03 --new_lr 0.03 --train_batch_size 64 --test_batch_size 256 --model resnet32 --proto_dim 64 --warmup_epochs 10 --schedule cosine --unlabels_predict_mode cosine --p_cutoff 0.95 --u_iter 100 --buffer_size 5120 --use_ulb_aug --kd_mode logits --use_hard_labels --use_ulb_kd --ulb_kd_mode similarity --random_seed 0 2>&1 >cifar10_0.6%_resnet32_etf512_semi_consistancy_bs64_buffer_size5120_der.log &

nohup python train_semi_der.py --flip_on_means --ckp_prefix cifar10_4%_resnet32_etf512_semi_consistancy_bs64_buffer_size5120_der --gpu 0 --epochs 200 --epochs_new 200 --include_unlabel --update_proto --u_ratio 7 --use_conloss --kd_only_old --dim 512 --dataset cifar10 --num_classes 10 --nb_cl_fg 2 --nb_cl 2 --image_size 32 --unlabeled_num -1 --k_shot 150 --nb_protos 5 --base_lr 0.03 --new_lr 0.03 --train_batch_size 64 --test_batch_size 256 --model resnet32 --proto_dim 64 --warmup_epochs 10 --schedule cosine --unlabels_predict_mode cosine --p_cutoff 0.95 --u_iter 100 --buffer_size 5120 --use_ulb_aug --kd_mode logits --use_hard_labels --use_ulb_kd --ulb_kd_mode similarity --random_seed 0 2>&1 > cifar10_4%_resnet32_etf512_semi_consistancy_bs64_buffer_size5120_der.log &

# ============================================================================================================
# cifar100   4% 5% 16% 25% ResNet20 buffer_size=5120
# ============================================================================================================
nohup python train_semi_der.py --flip_on_means --ckp_prefix cifar100_4%_resnet32_etf512_semi_consistancy_bs256_buffer_size5120_der --gpu 0 --epochs 200 --epochs_new 200 --include_unlabel --update_proto --u_ratio 7 --use_conloss --kd_only_old --dim 512 --dataset cifar100 --num_classes 100 --nb_cl_fg 10 --nb_cl 10 --image_size 32 --unlabeled_num -1 --k_shot 20 --nb_protos 5 --base_lr 0.03 --new_lr 0.03 --train_batch_size 64 --test_batch_size 256 --model resnet32 --proto_dim 64 --warmup_epochs 10 --schedule cosine --unlabels_predict_mode cosine --p_cutoff 0.95 --u_iter 100 --buffer_size 5120 --use_ulb_aug --kd_mode logits --use_hard_labels --use_ulb_kd --ulb_kd_mode similarity --random_seed 0 2>&1 > cifar100_4%_resnet32_etf512_semi_consistancy_bs64_buffer_size5120_der.log &

nohup python train_semi_der.py --flip_on_means --ckp_prefix cifar100_5%_resnet32_etf512_semi_consistancy_bs256_buffer_size5120_der --gpu 0 --epochs 200 --epochs_new 200 --include_unlabel --update_proto --u_ratio 7 --use_conloss --kd_only_old --dim 512 --dataset cifar100 --num_classes 100 --nb_cl_fg 10 --nb_cl 10 --image_size 32 --unlabeled_num -1 --k_shot 25 --nb_protos 5 --base_lr 0.03 --new_lr 0.03 --train_batch_size 64 --test_batch_size 256 --model resnet32 --proto_dim 64 --warmup_epochs 10 --schedule cosine --unlabels_predict_mode cosine --p_cutoff 0.95 --u_iter 100 --buffer_size 5120 --use_ulb_aug --kd_mode logits --use_hard_labels --use_ulb_kd --ulb_kd_mode similarity --random_seed 0 2>&1 > cifar100_5%_resnet32_etf512_semi_consistancy_bs64_buffer_size5120_der.log &

nohup python train_semi_der.py --flip_on_means --ckp_prefix cifar100_16%_resnet32_etf512_semi_consistancy_bs256_buffer_size5120_der --gpu 0 --epochs 200 --epochs_new 200 --include_unlabel --update_proto --u_ratio 7 --use_conloss --kd_only_old --dim 512 --dataset cifar100 --num_classes 100 --nb_cl_fg 10 --nb_cl 10 --image_size 32 --unlabeled_num -1 --k_shot 80 --nb_protos 5 --base_lr 0.03 --new_lr 0.03 --train_batch_size 64 --test_batch_size 256 --model resnet32 --proto_dim 64 --warmup_epochs 10 --schedule cosine --unlabels_predict_mode cosine --p_cutoff 0.95 --u_iter 100 --buffer_size 5120 --use_ulb_aug --kd_mode logits --use_hard_labels --use_ulb_kd --ulb_kd_mode similarity --random_seed 0 2>&1 > cifar100_16%_resnet32_etf512_semi_consistancy_bs64_buffer_size5120_der.log &

nohup python train_semi_der.py --flip_on_means --ckp_prefix cifar100_25%_resnet32_etf512_semi_consistancy_bs256_buffer_size5120_der --gpu 0 --epochs 200 --epochs_new 200 --include_unlabel --update_proto --u_ratio 7 --use_conloss --kd_only_old --dim 512 --dataset cifar100 --num_classes 100 --nb_cl_fg 10 --nb_cl 10 --image_size 32 --unlabeled_num -1 --k_shot 125 --nb_protos 5 --base_lr 0.03 --new_lr 0.03 --train_batch_size 64 --test_batch_size 256 --model resnet32 --proto_dim 64 --warmup_epochs 10 --schedule cosine --unlabels_predict_mode cosine --p_cutoff 0.95 --u_iter 100 --buffer_size 5120 --use_ulb_aug --kd_mode logits --use_hard_labels --use_ulb_kd --ulb_kd_mode similarity --random_seed 0 2>&1 > cifar100_25%_resnet32_etf512_semi_consistancy_bs64_buffer_size5120_der.log &

