# USP
# ============================================================================================================
# ImageNet100   13 100 ResNet18 buffer_size=5120
# ============================================================================================================
nohup python train_semi.py --flip_on_means --ckp_prefix imagenet100_13_resnet18_etf512_semi_consistancy_bs64_buffer_size5120 --gpu 2 --epochs 200 --epochs_new 200 --include_unlabel --update_proto --u_ratio 2 --use_conloss --kd_only_old --dim 512 --dataset imagenet100 --num_classes 100 --nb_cl_fg 10 --nb_cl 10 --image_size 224 --unlabeled_num -1 --percentage 0.01 --k_shot 13 --nb_protos 5 --base_lr 0.03 --new_lr 0.03 --train_batch_size 64 --test_batch_size 128 --model resnet18 --proto_dim 512 --warmup_epochs 10 --schedule cosine --unlabels_predict_mode cosine --p_cutoff 0.95 --u_iter 100 --buffer_size 5120 --use_ulb_aug --kd_mode logits --use_ulb_kd --ulb_kd_mode similarity --use_hard_labels --random_seed 0 2>&1 > imagenet100_13_resnet18_etf512_semi_consistancy_bs64_buffer_size5120.log &

nohup python train_semi.py --flip_on_means --ckp_prefix imagenet100_100_resnet18_etf512_semi_consistancy_bs64_buffer_size5120 --gpu 5 --epochs 200 --epochs_new 200 --include_unlabel --update_proto --u_ratio 2 --use_conloss --kd_only_old --dim 512 --dataset imagenet100 --num_classes 100 --nb_cl_fg 10 --nb_cl 10 --image_size 224 --unlabeled_num -1 --percentage 0.077 --k_shot 100 --nb_protos 5 --base_lr 0.03 --new_lr 0.03 --train_batch_size 64 --test_batch_size 128 --model resnet18 --proto_dim 512 --warmup_epochs 10 --schedule cosine --unlabels_predict_mode cosine --p_cutoff 0.95 --u_iter 100 --buffer_size 5120 --use_ulb_aug --kd_mode logits --use_ulb_kd --ulb_kd_mode similarity --use_hard_labels --random_seed 0 2>&1 > imagenet100_100_resnet18_etf512_semi_consistancy_bs64_buffer_size5120.log &
# ============================================================================================================
# ImageNet100   13 100 ResNet18 buffer_size=5120
# ============================================================================================================
nohup python train_semi_der.py --flip_on_means --ckp_prefix imagenet100_13_resnet18_etf512_semi_consistancy_bs64_buffer_size5120_der --gpu 3 --epochs 200 --epochs_new 200 --include_unlabel --update_proto --u_ratio 2 --use_conloss --kd_only_old --dim 512 --dataset imagenet100 --num_classes 100 --nb_cl_fg 10 --nb_cl 10 --image_size 224 --unlabeled_num -1 --percentage 0.01 --k_shot 13 --nb_protos 5 --base_lr 0.03 --new_lr 0.03 --train_batch_size 64 --test_batch_size 128 --model resnet18 --proto_dim 512 --warmup_epochs 10 --schedule cosine --unlabels_predict_mode cosine --p_cutoff 0.95 --u_iter 100 --buffer_size 5120 --use_ulb_aug --kd_mode logits --use_ulb_kd --ulb_kd_mode similarity --use_hard_labels --random_seed 0 2>&1 > imagenet100_13_resnet18_etf512_semi_consistancy_bs64_buffer_size5120_der.log &

nohup python train_semi_der.py --flip_on_means --ckp_prefix imagenet100_100_resnet18_etf512_semi_consistancy_bs64_buffer_size5120_der --gpu 4 --epochs 200 --epochs_new 200 --include_unlabel --update_proto --u_ratio 2 --use_conloss --kd_only_old --dim 512 --dataset imagenet100 --num_classes 100 --nb_cl_fg 10 --nb_cl 10 --image_size 224 --unlabeled_num -1 --percentage 0.077 --k_shot 100 --nb_protos 5 --base_lr 0.03 --new_lr 0.03 --train_batch_size 64 --test_batch_size 128 --model resnet18 --proto_dim 512 --warmup_epochs 10 --schedule cosine --unlabels_predict_mode cosine --p_cutoff 0.95 --u_iter 100 --buffer_size 5120 --use_ulb_aug --kd_mode logits --use_ulb_kd --ulb_kd_mode similarity --use_hard_labels --random_seed 0 2>&1 > imagenet100_100_resnet18_etf512_semi_consistancy_bs64_buffer_size5120_der.log &